"use strict";(self.webpackChunkTelecommunications_front=self.webpackChunkTelecommunications_front||[]).push([[389],{2389:(S,h,a)=>{a.r(h),a.d(h,{TestModule:()=>b});var g=a(6814),l=a(7276),n=a(4946),p=a(6306),m=a(2096),_=a(5516),f=a(9862);let C=(()=>{var t;class i{constructor(e){this.http=e,this.base_url=_.N.base_url}getQuestionsByUnit(e){return this.http.get(`${this.base_url}/question/${e}`).pipe((0,p.K)(o=>(0,m.of)(o.error)))}}return(t=i).\u0275fac=function(e){return new(e||t)(n.LFG(f.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),M=(()=>{var t;class i{constructor(e){this.http=e,this.base_url=_.N.base_url}addScore(e){return this.http.post(`${this.base_url}/score/add`,e).pipe((0,p.K)(o=>(0,m.of)(o.error)))}}return(t=i).\u0275fac=function(e){return new(e||t)(n.LFG(f.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var O=a(6667),d=a(95);function w(t,i){if(1&t&&(n.TgZ(0,"li"),n._uU(1),n.qZA()),2&t){const c=i.$implicit;n.xp6(1),n.Oqu(c)}}function P(t,i){if(1&t){const c=n.EpF();n.TgZ(0,"div",21),n.NdJ("click",function(){const r=n.CHM(c).index,s=n.oxw();return n.KtG(s.selectAnswer(r))}),n.TgZ(1,"p"),n._uU(2),n.qZA()()}if(2&t){const c=i.$implicit;n.s9C("id",i.index),n.xp6(2),n.Oqu(c)}}const v=function(t){return{"hide-animation":t}},q=function(t,i){return{"show-animation":t,"hide-animation":i}},y=[{path:":unit_id",component:(()=>{var t;class i{constructor(e,o,r,s){this.router=e,this.activatedRoute=o,this.questionService=r,this.scoreService=s,this.headerEmitter=new n.vpe,this.rules=["Solo tendras 60 segundos para elegir una de las 4 respuestas","Por cada respuesta acertada sumaras 1 punto","Si respondes incorrectamente, se te acaba el tiempo o no respondes, no ganaras, ni perder\xe1s puntos","Puedes realiiar el test las veces que quieras, pero solo se tomara en cuenta la puntuaci\xf3n obtenida de tu primer intento, no la desaproveches"],this.questions=[{question_id:6,question_name:"Que es un componente?",question_answers:["Un componente es aquel que se encarga de gestionar la vista de la aplicaci\xf3n","Un componente es aquel que se encarga de gestionar la l\xf3gica de la aplicaci\xf3n","Un componente es aquel que se encarga de gestionar la vista y la l\xf3gica de la aplicaci\xf3n","Un componente es aquel que se encarga de gestionar la vista, la l\xf3gica y los datos de la aplicaci\xf3n"],question_correctAnswer:1,unit_id:1},{question_id:6,question_name:"Que es el decorador @Component?",question_answers:["El decorador @Component es el que se encarga de gestionar la vista de la aplicaci\xf3n","El decorador @Component es el que se encarga de gestionar la l\xf3gica de la aplicaci\xf3n","El decorador @Component es el que se encarga de gestionar la vista y la l\xf3gica de la aplicaci\xf3n","El decorador @Component es el que se encarga de gestionar la vista, la l\xf3gica y los datos de la aplicaci\xf3n"],question_correctAnswer:2,unit_id:1}],this.unit_id=0,this.check=!1,this.showStart=!0,this.showSecond=!1,this.counter=0,this.clicked=!1,this.interval=0,this.login_id=0,window.addEventListener("blur",()=>{this.blurActivate&&this.showSecond&&(this.blurActivate=!1,this.finishTest(),alert("Haz intentado hacer trampa, tus respuestas han sido enviadas"))}),window.addEventListener("beforeunload",u=>{this.showSecond&&this.finishTest()})}ngOnInit(){this.check=!1,this.clicked=!1,this.points=0,this.totalTime=0,this.blurActivate=!0,this.login_id=Number(localStorage.getItem("login_id")),this.activatedRoute.params.subscribe(({unit_id:e})=>{this.unit_id=e,this.questionService.getQuestionsByUnit(e).subscribe(o=>{if(o.success){let r=[];o.data?.forEach(s=>{r.push({question_id:s.question_id,question_name:s.question_name,question_answers:JSON.parse(String(s.question_answers)),question_correctAnswer:s.question_correctAnswer,unit_id:s.unit_id})}),this.questions=r}})}),this.setChangeStartToQuestion()}ngOnDestroy(){this.showSecond=!1,this.showStart=!0}setChangeStartToQuestion(){const e=document.getElementById("window-start");e?.addEventListener("transitionend",o=>{if(!this.showStart&&"opacity"===o.propertyName){e.style.display="none";const r=document.getElementById("window-second");r&&(r.style.display="block")}})}startTest(){this.showStart=!1,this.showSecond=!0,this.headerEmitter.emit(this.showStart),this.setChangeSecondWindow(),this.startTimer()}selectAnswer(e){this.clicked||document.getElementById(e.toString())&&(this.questions[this.counter].question_correctAnswer==e+1&&(this.points+=1),this.saveDataScore()),this.clicked=!0,this.stopTimer(),this.showSecond=!1}setChangeSecondWindow(){document.getElementById("window-second")?.addEventListener("transitionend",o=>{if(!this.showSecond&&"opacity"===o.propertyName)if(this.counter+1<this.questions.length)this.counter++,this.startTimer();else{const s=document.getElementById("cont-questions");s&&(s.style.display="none");const u=document.getElementById("cont-finish");u&&(u.style.display="flex",this.blurActivate=!1)}this.showSecond=!0,this.clicked=!1})}finishTest(){this.clicked||(this.clicked=!0,this.saveDataScore(),this.sendScore())}startTimer(){this.time=60,this.interval=setInterval(()=>{this.time>0?(this.totalTime++,this.time--):(this.stopTimer(),this.showSecond=!1)},1e3)}stopTimer(){clearInterval(this.interval)}saveDataScore(){this.score={score:this.points,time:this.totalTime,resume:"",login_id:this.login_id,unit_id:this.unit_id}}sendScore(){this.scoreService.addScore(this.score).subscribe(e=>{e.success&&(this.blurActivate=!1,this.router.navigate(["/home"]),this.headerEmitter.emit(!0))})}}return(t=i).\u0275fac=function(e){return new(e||t)(n.Y36(l.F0),n.Y36(l.gz),n.Y36(C),n.Y36(M))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-test"]],outputs:{headerEmitter:"headerEmitter"},decls:40,vars:20,consts:[[1,"cont-principal-form"],["id","window-start",1,"window-start",3,"ngClass"],[1,"title"],[1,"cont-rules"],[4,"ngFor","ngForOf"],[1,"cont-check"],["id","check","type","checkbox",3,"ngModel","ngModelChange"],["for","check"],[1,"cont-button"],[3,"text","valid","green","click"],["id","window-second",1,"window-second",3,"ngClass"],["id","cont-questions",1,"cont-questions"],[1,"cont-time"],[1,"time"],[1,"cont-header"],[1,"question"],[1,"cont-answers"],["class","answer",3,"id","click",4,"ngFor","ngForOf"],["id","cont-finish",1,"cont-finish"],[1,"cont-up"],[1,"score"],[1,"answer",3,"id","click"]],template:function(e,o){1&e&&(n.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"p",2),n._uU(4,"Antes de iniciar"),n.qZA(),n.TgZ(5,"div",3)(6,"p"),n._uU(7,"Tome en cuenta lo siguiente:"),n.qZA(),n.TgZ(8,"ol"),n.YNc(9,w,2,1,"li",4),n.qZA(),n.TgZ(10,"p"),n._uU(11,"Nota: Una vez iniciado el test, no deber\xe1s salir de esta ventana, mucho menos recargarla, hasta finalizar el test"),n.qZA(),n.TgZ(12,"div",5)(13,"input",6),n.NdJ("ngModelChange",function(s){return o.check=s}),n.qZA(),n.TgZ(14,"label",7),n._uU(15,"Estoy de acuerdo con lo descrito"),n.qZA()()(),n.TgZ(16,"div",8)(17,"app-button-next",9),n.NdJ("click",function(){return o.startTest()}),n.qZA()()(),n.TgZ(18,"div",10)(19,"div",11)(20,"div",12)(21,"p",13),n._uU(22),n.qZA()(),n.TgZ(23,"div",14)(24,"p",2),n._uU(25),n.qZA(),n.TgZ(26,"p",15),n._uU(27),n.qZA()(),n.TgZ(28,"div",16),n.YNc(29,P,3,2,"div",17),n.qZA()(),n.TgZ(30,"div",18)(31,"div",19)(32,"p",2),n._uU(33,"Resultados"),n.qZA(),n.TgZ(34,"p",20),n._uU(35,"Calificaci\xf3n: "),n.TgZ(36,"span"),n._uU(37),n.qZA()()(),n.TgZ(38,"div",8)(39,"app-button-next",9),n.NdJ("click",function(){return o.finishTest()}),n.qZA()()()()()()),2&e&&(n.xp6(2),n.Q6J("ngClass",n.VKq(15,v,!o.showStart)),n.xp6(7),n.Q6J("ngForOf",o.rules),n.xp6(4),n.Q6J("ngModel",o.check),n.xp6(4),n.Q6J("text","Iniciar")("valid",o.check)("green",!0),n.xp6(1),n.Q6J("ngClass",n.WLB(17,q,o.showSecond,!o.showSecond)),n.xp6(4),n.hij("",o.time,"seg"),n.xp6(3),n.hij("Pregunta ",o.counter+1,""),n.xp6(2),n.Oqu(o.questions[o.counter].question_name),n.xp6(2),n.Q6J("ngForOf",o.questions[o.counter].question_answers),n.xp6(8),n.Oqu(o.points),n.xp6(2),n.Q6J("text","Volver a la pagina de inicio")("valid",!0)("green",!0))},dependencies:[g.mk,g.sg,O.y,d.Wl,d.JJ,d.On],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:84vh}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;min-width:300px;width:65%;height:-moz-fit-content;height:fit-content;background-color:var(--invert-background-color);padding:20px;border-radius:var(--default-border-radius);text-align:justify;transition:all .5s ease-in-out}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;height:100%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   .cont-rules[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   .cont-rules[_ngcontent-%COMP%]   .cont-check[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:100%;margin-top:3%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   .cont-rules[_ngcontent-%COMP%]   .cont-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;min-width:18px;min-height:18px;width:18px;height:18px;margin-right:10px;transition:all .1s ease-in-out;background-color:transparent;border:1px solid black;border-radius:var(--default-border-radius)}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   .cont-rules[_ngcontent-%COMP%]   .cont-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background:url(check_white.e305784b5b4b4391.svg);background-size:contain}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:700}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]{display:none;justify-content:center;align-items:center;width:100%;height:100%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;height:100%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-header[_ngcontent-%COMP%]{position:relative;width:100%;height:-moz-fit-content;height:fit-content}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-header[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{text-align:center;margin:1% 0 0;font-weight:700;text-transform:uppercase}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-time[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;padding:0 3%;width:10%;height:min-content;margin-bottom:5%;border:2px solid var(--default-background-color);border-radius:var(--default-border-radius);box-shadow:0 0 2px var(--default-box-shadow-color)}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:120%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-answers[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);grid-gap:2%;margin:2% 0}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-answers[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:1% 0;padding:0 6%;border:2px solid var(--default-background-color);border-radius:var(--default-border-radius);line-height:125%;box-shadow:0 0 2px var(--default-box-shadow-color)}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-finish[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;display:none}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-finish[_ngcontent-%COMP%]   .cont-up[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:-moz-fit-content;height:fit-content}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-finish[_ngcontent-%COMP%]   .cont-up[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-weight:700}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .cont-button[_ngcontent-%COMP%]{width:60%;height:-moz-fit-content;height:fit-content}@media (hover: hover){.answer[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.answer[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.04)}}@media (hover: none){section[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]{min-width:205px;width:80%;padding:25px}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   .cont-rules[_ngcontent-%COMP%]{padding-right:5%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-start[_ngcontent-%COMP%]   .cont-rules[_ngcontent-%COMP%]   .cont-check[_ngcontent-%COMP%]{margin-top:7%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]{flex-direction:column}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-time[_ngcontent-%COMP%]{position:inherit;width:100%;height:40px}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:100%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-answers[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:90%}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-answers[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .window-second[_ngcontent-%COMP%]   .cont-questions[_ngcontent-%COMP%]   .cont-answers[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]:active{transform:scale(1.02)}section[_ngcontent-%COMP%]   .cont-principal-form[_ngcontent-%COMP%]   .cont-button[_ngcontent-%COMP%]{width:100%}}"]}),i})()}];let T=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[l.Bz.forChild(y),l.Bz]}),i})();var x=a(5467);let b=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.ez,T,x.UserModule,d.UX,d.u5]}),i})()}}]);